<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" 
"http://www.w3.org/TR/html4/loose.dtd"> 
<html>


<!-- Mirrored from www.javaya.com.ar/androidya/detalleconcepto.php?codigo=178&inicio=40 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 15 Sep 2015 16:20:48 GMT -->
<head>
<title>Archivo strings.xml</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
<meta name="keywords" content="tutorial android">
<meta name="description" content="Tutorial de Android">
<link href="css/estilos.css" rel="stylesheet" type="text/css">
<style>
html,body {
	background-color: #D3E9D0;
	font-family: Arial, sans-serif;
	font-size: 11pt;
	text-align:center;
}

h1 {
	margin: 0%;
}

.recuadro {
  background-color:#ffffcc;
  text-align:left;
  font-family:courier;
  font-size:1.2em;
  border-width:0;
  padding:5px;

  border: 1px dotted #ffaa00;
}

.recuadrooculto {
  background-color:#ffffcc;
  text-align:left;
  font-family:courier;

  border-width:0;
  padding:5px;

  border: 1px dotted #ffaa00;
  display: none;
}

 img {
   padding:11px;
 }
 
 li {
    padding:10px;
 }
.descarga2 a {
color:#4B4B4B;
text-decoration:none;
border-bottom:1px dotted #444;
}
.descarga2 {
background: #F7FABE;
text-align: left;
padding: 5px 20px 5px 45px;
border-top: 2px solid #DFE786;
border-bottom: 2px solid #DFE786;
color:#000000;
margin-left:1.2em;
margin-right:1.2em;
border-radius:4px;
font-size:1em;

}  

</style>

<script type="text/javascript">
function cambiar()
{
  var lista=document.getElementsByTagName('pre');
  for(f=0;f<lista.length;f++)
  {
   lista[f].style.display='block';
  }
  document.getElementById('solucion').style.display='none';
}

</script>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-628756-30']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</head>

<body>

<div class="upperleft">
  <div class="upperright">
    <div class="lowerleft">
      <div class="lowerright">
<table width="98%">
<tr>
<td> 
<h1>47 - Archivo strings.xml</h1> <p class="descarga2">Ya se encuentra disponible el nuevo tutorial para aprender android con el nuevo entorno <a href="androidstudioya/index.html" target="_blank">Android Studio propuesto por Google y
que remplaza a Eclipse</a>.
</td>
<td align="right">

</td>
</tr>
</table>

      </div>
    </div>
  </div>
</div>
<br>


<div class="upperleft">
  <div class="upperright">
    <div class="lowerleft">
      <div class="lowerright">
 <div id="contentdetalle">

<div style="display:block;float:left;margin: 5px;"> 
 
<script async src="../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
<!-- propuesto-javaya -->
<ins class="adsbygoogle"
     style="display:inline-block;width:336px;height:280px"
     data-ad-client="ca-pub-4669394804436935"
     data-ad-slot="1400020364"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
 
</div> 

El archivo strings.xml se utiliza para almacenar todas las constantes de cadenas de caracteres que se necesitan en un programa (por ejemplo las etiquetas de los objetos Button, los textos fijos de los controles TextView y todos los controles que muestran un texto fijo en el dispositivo)</p>
<p>La idea fundamental es tener todos los mensajes que muestra nuestra aplicación en un archivo (strings.xml)</p>
<p>Ya veremos en el próximo concepto que uno de las ventajas que presenta esta agrupación de string es la posibilidad de facilitar la implementación de aplicaciones en múltiples idiomas.</p>

<h3>Problema:</h3>
<p>Crear un proyecto que solicite la carga de dos valores. Mediante dos RadioButton permitir seleccionar si queremos sumar o restar. Cuando se presione un botón mostrar en un TextView el resultado de la operación.</p>

<p>1 - Creamos un proyecto llamado: proyecto045<br>
Lo almacenamos en el paquete: com.androidya.proyecto045</p>
<p>El Plugin de Eclipse nos crea automáticamente el archivo strings.xml en la carpeta values que se encuentra en la carpeta res:</p>

<img src="imagentema/foto149.jpg" border="0" alt="strings.xml"><br>
<p>Si vemos en su interior podemos ver que ya define tres string llamados app_name, hello_world y menu_settings:</p>
<img src="imagentema/foto150.jpg" border="0" alt="strings.xml"><br>


<p>Lo que se encuentra entre las marcas string es lo que se visualizará, por ejemplo en la constante hello_world se almacena el valor "Hello world!". En este archivo crearemos todas las constantes a incluir en nuestro programa. Si vemos en la parte inferior de la ventana donde se visualiza el archivo xml hay una pestaña llamada Resource que nos permite ingresar las distintas constantes de una forma visual:</p>
<img src="imagentema/foto151.jpg" border="0" alt="strings.xml"><br>
<p>Creamos primero la interfaz visual disponiendo dos controles de tipo EditText, un RadioGroup con dos RadioButton, un Button y un TextView donde se muestra el resultado de la operación:</p>
<img src="imagentema/foto152.jpg" border="0" alt="strings.xml"><br>


<p>Ahora si crearemos los mensajes que mostrarán los dos RadioButton y el Button. Para esto seleccionamos el archivo strings y procedemos a crear las tres constantes:</p>
<p>Una vez que tenemos abierto el archivo strings.xml en modo "Resources" procedemos a presionar el botón "Add..." y seleccionamos "String":</p>
<img src="imagentema/foto153.jpg" border="0" alt="strings.xml"><br>


<p>Creamos los nombres de las constantes y los valores, por ejemplo para el mensaje que mostrará el primer RadioButton llamamos la constante con el nombre "radiosuma" y el valor que almacena es "Sumar"</p>
<img src="imagentema/foto154.jpg" border="0" alt="strings.xml"><br>



<p>De forma similar creamos las constantes "radioresta" con el valor "Restar" y el botón para operar lo llamamos "botonoperacion" con el valor "Operar". Si seleccionamos la pestaña strings.xml luego podemos ver las tres constantes que hemos creado :</p>
<img src="imagentema/foto155.jpg" border="0" alt="strings.xml"><br>


<p>Ahora debemos asociar estas constantes a los controles visuales. Seleccionamos el archivo activity_main.xml y seleccionamos primero el primer RadioButton y buscamos la propiedad Text, presionamos el botón que aparece a la derecha:</p>
<img src="imagentema/foto156.jpg" border="0" alt="strings.xml"><br>


<p>En este diálogo seleccionamos la constante de string que acabamos de crear ("radiosuma"):</p>
<img src="imagentema/foto157.jpg" border="0" alt="strings.xml"><br>
<p>Ahora tenemos asociada la constante "radiosuma" con la propiedad text del control RadioButton. Lo mismo podríamos haber hecho esto escribiendo en la propiedad @string/radiosuma (@string lo utilizamos para indicar que el siguiente dato después de la barra se trata de una constante definida en el archivo strings.xml)</p>
<p>Utilizar el diálogo de selección de recursos nos facilita no tener que recordar todas las constantes.</p>
<p>Lo mismo hacemos para asociar las constantes para el segundo RadioButton y el Button de operar. Es decir las propiedades text del radio1 debe quedar con el valor "@string/radioresta" y el valor de la propiedad text del objeto button1 debe ser "@string/botonoperacion"</p>
<p>Como vemos cuando asociamos las propiedades text de los controles con las constantes automáticamente vemos en pantalla que los textos de los controles se actualizan con los valores almacenados en dichas constantes.</p>
<p>Para que funcione nuestro programa inicializamos la propiedad On click del Button con el método que sumará o restará:</p>
<img src="imagentema/foto158.jpg" border="0" alt="strings.xml"><br>
<p>El código fuente del programa será:</p>
<pre class="recuadro">
package com.androidya.proyecto045;

import android.app.Activity;
import android.os.Bundle;
import android.view.Menu;
import android.view.View;
import android.widget.EditText;
import android.widget.RadioButton;
import android.widget.TextView;

public class MainActivity extends Activity {
    EditText et1, et2;
    RadioButton rb1, rb2;
    TextView tv1;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        et1 = (EditText) findViewById(R.id.editText1);
        et2 = (EditText) findViewById(R.id.editText2);
        rb1 = (RadioButton) findViewById(R.id.radio0);
        rb2 = (RadioButton) findViewById(R.id.radio1);
        tv1 = (TextView) findViewById(R.id.textView1);
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }

    public void operar(View v) {
        int v1 = Integer.parseInt(et1.getText().toString());
        int v2 = Integer.parseInt(et2.getText().toString());
        if (rb1.isChecked()) {
            int suma = v1 + v2;
            tv1.setText(String.valueOf(suma));
        } else if (rb2.isChecked()) {
            int resta = v1 - v2;
            tv1.setText(String.valueOf(resta));
        }
    }

}
</pre>
<p>El resultado final del programa en el dispositivo es:</p>
<img src="imagentema/foto159.jpg" border="0" alt="strings.xml"><br>
<p>Este proyecto lo puede descargar en un zip desde este enlace:
<a href="proyectos/proyecto045.zip">proyecto045.zip</a>
</div>
<table width="700px">
<tr>
<td align="left">	

<script type="text/javascript"><!--
google_ad_client = "ca-pub-4669394804436935";
/* fondo-izquierda-grande */
google_ad_slot = "2944336362";
google_ad_width = 336;
google_ad_height = 280;
//-->
</script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>

<script type="text/javascript"><!--
google_ad_client = "ca-pub-4669394804436935";
/* fondo-derecha-grande */
google_ad_slot = "7374535966";
google_ad_width = 336;
google_ad_height = 280;
//-->
</script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>

</td>
</tr>
</table>

   <h2><a href="index1e61.html?inicio=40">Retornar</a></h2>   

  </div>
  
  
  
    </div>
  </div>
</div>




</body>


<!-- Mirrored from www.javaya.com.ar/androidya/detalleconcepto.php?codigo=178&inicio=40 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 15 Sep 2015 16:22:07 GMT -->
</html>
