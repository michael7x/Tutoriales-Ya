<html>


<!-- Mirrored from www.javascriptya.com.ar/temarios/descripcion.php?inicio=50&cod=61 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 15 Sep 2015 15:10:24 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=ISO-8859-1" /><!-- /Added by HTTrack -->
<head>
<title>Tutorial de JavaScript : Conceptos</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="../css/estilos.css" rel="stylesheet" type="text/css">
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">

<style>
html,body {
	background-color: #D3E9D0;
	font-family: Trebuchet MS, Verdana, Arial, sans-serif;
	font-size: 10pt;
	text-align:center;
}

h1 {
	font-size: 14pt;
	margin: 0%;
}

div#contentdetalle{clear:left;
                   max-width:900px;
				   border-top:0px solid #999;
				   padding-top:15px;
				   background-color: #aed7a8;
				   text-align:left;
				   font-size:1.3em;
				   font-weight:normal;
				   font-family:arial;
				   padding:20px}
				   
.recuadro {
  background-color:#ffffcc;
  text-align:left;
  font-family:courier;
  font-size:1.2em;
  border-width:0;
  padding:5px;

  border: 1px dotted #ffaa00;
  margin-left:5px;  
}				   
</style>
</head>

<body>

<div class="upperleft">
  <div class="upperright">
    <div class="lowerleft">
      <div class="lowerright">
<table width="98%">
<tr>
<td>
<h1>Funciones: anidadas</h1></td>
<td align="right">
<!--<a href="http://www.javascriptya.com.ar/publicidad/"><img border="0" style="margin:5px;padding-left:2px" src="../imagenes/publicidad.png"></a>	-->

</td>
</tr>
</table>

      </div>
    </div>
  </div>
</div>
<br>


<div class="upperleft">
  <div class="upperright">
    <div class="lowerleft">
      <div class="lowerright">

<div id="contentdetalle">
<div style="display:block;float:left;margin: 5px;"> 
 
<script async src="../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
<!-- propuesto-javaya -->
<ins class="adsbygoogle"
     style="display:inline-block;width:336px;height:280px"
     data-ad-client="ca-pub-4669394804436935"
     data-ad-slot="1400020364"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
 
</div> 	  

<p>JavaScript permite definir funciones dentro de otras funciones:</p>
<pre class="recuadro">
&lt;html&gt;
&lt;head&gt;
&lt;script type="text/javascript"&gt;


  function generarListaOrdenada(vec)
  {
    function comienzo()
    {
      s='&lt;ol&gt;';
    }
  
    function fin()
    {
      s=s+'&lt;/ol&gt;';
    }
    
    var s='';
    comienzo();
    var f;
    for(f=0;f&lt;vec.length;f++)
    {
      s=s+'&lt;li&gt;'+vec[f]+'&lt;/li&gt;';
    }
    fin();
    return s;
  }


  onload=function() {
    var opciones=['Opción a','Opción b','Opción c','Opción d'];
    document.getElementById('div1').innerHTML=generarListaOrdenada(opciones);
  }

&lt;/script&gt;

&lt;/head&gt;
&lt;body&gt;
&lt;div id="div1"&gt;&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
<p>Como vemos en el ejemplo la función generarListaOrdenada contiene el algoritmo propiamente dicho y además declara dos funciones llamadas comienzo y fin.</p>
<p>Las funciones anidadas solo pueden ser llamadas desde el interior de la función que las contiene. En este ejemplo la función generarListaOrdenada tiene por objetivo generar un string con una serie de marcas HTML que genere una lista ordenada.</p>
<p>Lo primero en la función generarListaOrdenada es declarar las dos funciones anidadas:<p/>
<pre>
    function comienzo()
    {
      s='&lt;ol&gt;';
    }
  
    function fin()
    {
      s=s+'&lt;/ol&gt;';
    }
</pre>
<p>Pero lo primero que se ejecuta al llamar a la función generarListaOrdenada es:</p>
<pre>
    var s='';
    comienzo();
    var f;
    for(f=0;f&lt;vec.length;f++)
    {
      s=s+'&lt;li&gt;'+vec[f]+'&lt;/li&gt;';
    }
    fin();
    return s;
</pre>
<p>Es decir primero se define la variable local s y se inicializa con un string vacío. Seguidamente se llama a la función comienzo que tiene por objetivo cargar en la variable s el valor '&lt;ol&gt;'.</p>
<p>Cuando finaliza de ejecutarse la función interna continua con el for definido en la función generarListaOrdenada:</p>
<pre>
    for(f=0;f&lt;vec.length;f++)
    {
      s=s+'&lt;li&gt;'+vec[f]+'&lt;/li&gt;';
    }
</pre>
<p>Finalmente cuando sale del for se llama a la segunda función anidada llamada fin:</p>
<pre>
    fin();
</pre>
<p>Las funciones anidadas pueden acceder a las variables locales de la función que las contiene (en este caso pueden acceder a la variable s)</p>
<p>Luego la función generarListaOrdenada completa queda con la sintaxis:</p>
<pre>
  function generarListaOrdenada(vec)
  {
    function comienzo()
    {
      s='&lt;ol&gt;';
    }
  
    function fin()
    {
      s=s+'&lt;/ol&gt;';
    }
    
    var s='';
    comienzo();
    var f;
    for(f=0;f&lt;vec.length;f++)
    {
      s=s+'&lt;li&gt;'+vec[f]+'&lt;/li&gt;';
    }
    fin();
    return s;
  }
</pre>
<p>A la función generarListaOrdenada la llamamos desde la función anónima que definimos para el evento onload de la página. Cargamos en el elemento div definido dentro de la página el código HTML que genera una lista ordenada:</p>
<pre>
  onload=function() {
    var opciones=['Opción a','Opción b','Opción c','Opción d'];
    document.getElementById('div1').innerHTML=generarListaOrdenada(opciones);
  }
</pre>
<p>Las funciones anidadas no se las puede llamar desde fuera de la función que las contiene, por ejemplo produce un error si intentamos llamar a la función "comienzo" desde fuera de la función generarListaOrdenada:</p>
<pre>
  onload=function() {
    var opciones=['Opción a','Opción b','Opción c','Opción d'];
    comienzo();
    document.getElementById('div1').innerHTML=generarListaOrdenada(opciones);
  }
</pre></p>
</div>

<table width="700px">
<tr>
<td align="left">	

<script type="text/javascript"><!--
google_ad_client = "ca-pub-4669394804436935";
/* fondo-izquierda-grande */
google_ad_slot = "2944336362";
google_ad_width = 336;
google_ad_height = 280;
//-->
</script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>

<script type="text/javascript"><!--
google_ad_client = "ca-pub-4669394804436935";
/* fondo-derecha-grande */
google_ad_slot = "7374535966";
google_ad_width = 336;
google_ad_height = 280;
//-->
</script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>

</td>
</tr>
</table>


   <h2><a href="../indexefd7.html?inicio=50">Retornar</a></h2>   

      </div>
    </div>
  </div>
</div>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-628756-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</body>


<!-- Mirrored from www.javascriptya.com.ar/temarios/descripcion.php?inicio=50&cod=61 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 15 Sep 2015 15:10:24 GMT -->
</html>
