<html>


<!-- Mirrored from www.sqlserverya.com.ar/temarios/descripcion.php?inicio=25&cod=39&punto=33 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 15 Sep 2015 15:10:31 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=ISO-8859-1" /><!-- /Added by HTTrack -->
<head>
<title>Tutorial de SQL Server </title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="../css/estilos.css" rel="stylesheet" type="text/css">
	  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">

<style>
html,body {
	background-color: #D3E9D0;
	font-family: Trebuchet MS, Verdana, Arial, sans-serif;
	font-size: 10pt;
	text-align:center;
}

h1 {
	font-size: 14pt;
	margin: 0%;
}


</style>
</head>

<body>

<div class="upperleft">
  <div class="upperright">
    <div class="lowerleft">
      <div class="lowerright">

<table width="98%">
<tr>
<td> 
<h1>33 - Búsqueda de patrones (like - not like)</h1></td>
<td align="right">
<!--<a href="http://www.sqlserverya.com.ar/publicidad/"><img border="0" style="margin:5px;padding-left:2px" src="../imagenes/publicidad.png"></a>	-->

</td>
</tr>
</table>

      </div>
    </div>
  </div>
</div>
<br>


<div class="upperleft">
  <div class="upperright">
    <div class="lowerleft">
      <div class="lowerright">

<div style="display:block;float:left;margin: 5px;"> 
 
<script type="text/javascript"><!--
google_ad_client = "pub-4669394804436935";
/* 300x250, creado 6/11/08 novi */
google_ad_slot = "7481492727";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>
 
</div> 	  
<p>
<p>Existe un operador relacional que se usa para realizar comparaciones exclusivamente de cadenas, "like" y "not like".</p>

<p>Hemos realizado consultas utilizando operadores relacionales para comparar cadenas. Por ejemplo, sabemos recuperar los libros cuyo autor sea igual a la cadena "Borges":</p>
<pre>
 select *from libros
  where autor='Borges';
</pre>
<p>El operador igual ("=") nos permite comparar cadenas de caracteres, pero al realizar la comparación, busca coincidencias de cadenas completas, realiza una búsqueda exacta.</p>

<p>Imaginemos que tenemos registrados estos 2 libros:</p>
<pre>
 "El Aleph", "Borges";
 "Antologia poetica", "J.L. Borges";
</pre>
<p>Si queremos recuperar todos los libros de "Borges" y especificamos la siguiente condición:</p>
<pre>
 select *from libros
 where autor='Borges';
</pre>
<p>sólo aparecerá el primer registro, ya que la cadena "Borges" no es igual a la cadena "J.L. Borges".</p>
 
<p>Esto sucede porque el operador "=" (igual), también el operador "<>" (distinto) comparan cadenas de caracteres completas. Para comparar porciones de cadenas utilizamos los operadores "like" y "not like". </p>

<p>Entonces, podemos comparar trozos de cadenas de caracteres para realizar consultas. Para recuperar todos los registros cuyo autor contenga la cadena "Borges" debemos tipear:</p>
<pre>
 select *from libros
  where autor like "%Borges%";
</pre>
<p>El símbolo "%" (porcentaje) reemplaza cualquier cantidad de caracteres (incluyendo ningún caracter). Es un caracter comodín. "like" y "not like" son operadores de comparación que señalan igualdad o diferencia.</p>

<p>Para seleccionar todos los libros que comiencen con "M":</p>
<pre>
 select *from libros
  where titulo like 'M%';
</pre>
<p>Note que el símbolo "%" ya no está al comienzo, con esto indicamos que el título debe tener como primera letra la "M" y luego, cualquier cantidad de caracteres.</p>

<p>Para seleccionar todos los libros que NO comiencen con "M":</p>
<pre>
 select *from libros
  where titulo not like 'M%';
</pre>
<p>Así como "%" reemplaza cualquier cantidad de caracteres, el guión bajo "_" reemplaza un caracter, es otro caracter comodín. Por ejemplo, queremos ver los libros de "Lewis Carroll" pero no recordamos si se escribe "Carroll" o "Carrolt", entonces tipeamos esta condición:</p>
<pre>
 select *from libros
  where autor like "%Carrol_";
</pre>
<p>Otro caracter comodín es [] reemplaza cualquier carácter contenido en el conjunto especificado dentro de los corchetes.</p>

<p>Para seleccionar los libros cuya editorial comienza con las letras entre la "P" y la "S" usamos la siguiente sintaxis:</p>
<pre>
 select titulo,autor,editorial
  from libros
  where editorial like '[P-S]%';
</pre>
<p>Ejemplos:</p>
<pre>
... like '[a-cf-i]%': busca cadenas que comiencen con a,b,c,f,g,h o i;
... like '[-acfi]%': busca cadenas que comiencen con -,a,c,f o i;
... like 'A[_]9%': busca cadenas que comiencen con 'A_9';
... like 'A[nm]%': busca cadenas que comiencen con 'An' o 'Am'.
</pre>
<p>El cuarto caracter comodín es [^] reemplaza cualquier caracter NO presente en el conjunto especificado dentro de los corchetes.</p>

<p>Para seleccionar los libros cuya editorial NO comienza con las letras "P" ni "N" tipeamos:</p>
<pre>
 select titulo,autor,editorial
  from libros
  where editorial like '[^PN]%';
</pre>
<p>"like" se emplea con tipos de datos char, nchar, varchar, nvarchar o datetime. Si empleamos "like" con tipos de datos que no son caracteres, SQL Server convierte (si es posible) el tipo de dato a caracter. Por ejemplo, queremos buscar todos los libros cuyo precio se encuentre entre 10.00 y 19.99:</p>
<pre>
 select titulo,precio from libros
  where precio like '1_.%';
</pre>
<p>Queremos los libros que NO incluyen centavos en sus precios:</p>
<pre>
 select titulo,precio from libros
  where precio like '%.00';
</pre>
<p>Para búsquedas de caracteres comodines como literales, debe incluirlo dentro de corchetes, por ejemplo, si busca:</p>
<pre>
... like '%[%]%': busca cadenas que contengan el signo '%';
... like '%[_]%': busca cadenas que contengan el signo '_';
... like '%[[]%': busca cadenas que contengan el signo '[';
</pre>
</p>

<table width="700px">
<tr>
<td align="left">	

<script type="text/javascript"><!--
google_ad_client = "ca-pub-4669394804436935";
/* fondo-izquierda-grande */
google_ad_slot = "2944336362";
google_ad_width = 336;
google_ad_height = 280;
//-->
</script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>

<script type="text/javascript"><!--
google_ad_client = "ca-pub-4669394804436935";
/* fondo-derecha-grande */
google_ad_slot = "7374535966";
google_ad_width = 336;
google_ad_height = 280;
//-->
</script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>

</td>
</tr>
</table>
<br>
   <h2><a href="../indexfc77.html?inicio=25">Retornar</a></h2>   
      </div>
    </div>
  </div>
</div>

<script src="../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-628756-11";
urchinTracker();
</script>


</body>


<!-- Mirrored from www.sqlserverya.com.ar/temarios/descripcion.php?inicio=25&cod=39&punto=33 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 15 Sep 2015 15:10:31 GMT -->
</html>
