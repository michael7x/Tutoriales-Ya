<!DOCTYPE html>
<html>


<!-- Mirrored from www.phpya.com.ar/temarios/descripcion.php?punto=28&cod=49&inicio=20 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 15 Sep 2015 15:08:56 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>Tutorial de PHP - Temario</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="UTF-8">
<meta name="keywords" content="php, programación, webmaster, tutorial">
<meta name="description" content="El objetivo de este tutorial 
es presentar los conceptos básicos de php.">
<meta name="author" content="Diego Moisset">

<style>

html,body {
	background-color: #D3E9D0;
	font-family: Verdana,arial,sans-serif;
	font-size: 1em;
}

h1 {
	font-size: 14pt;
	margin: 0%;
}

.recuadro {
  background-color:#ffffcc;
  text-align:left;
  font-family:courier;
  font-size:1.1em;
  border-width:0;
  padding:5px;

  border: 1px dotted #ffaa00;
  margin-left:5px;
}

#recuadrooculto {
  display: none;
}


.recuadroborde {
  //  max-height: 400pt;
	overflow: auto;
    font-family: consolas, monospace;
    font-size: 12pt;
    margin-left: 1%;
    margin-right: 1%;
    background-color:#ffffcc;	
    padding: 7px;
    border: 2px ridge black;
    border-radius: 7px;
	clear:left;
}

pre {
 	overflow: auto;
    font-family: consolas, monospace;
    font-size: 12pt;
    margin-left: 1%;
    margin-right: 1%;
    background-color: #aed7a8;
    padding: 7px;
    border: 0px;
}

</style>

<script type="text/javascript">
function cambiar()
{
  document.getElementById('recuadrooculto').style.display='block';
}

</script>

</head>

<body>



<div style="background-color: #AED7A8;max-width: 950px;	margin-left: auto;margin-right: auto;border-radius:7px;padding:10px">
<h1><span style="font-size:1em;margin-right:1em"><a href="../index28fa-2.html?inicio=20">Temario del Tutorial</a></span>28 - Función count de SQL.</h1></div>

<br>
<div style="background-color: #AED7A8;max-width: 950px;	border-radius:7px;padding:10px;margin-left: auto;margin-right: auto">

<div style="display:block;float:left;margin: 5px;"> 
<script type="text/javascript"><!--
google_ad_client = "pub-4669394804436935";
/* 300x250, creado 6/11/08 novi */
google_ad_slot = "7481492727";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>

</div> 


<p>Hay en MySQL funciones que nos permiten contar registros, calcular sumas, promedios, obtener valores máximos y mínimos. Veamos la función count.</p>
<p>Cuando necesitamos saber la cantidad de registros utilizamos la función count, por ejemplo si deseamos conocer la cantidad de alumnos que hay en la tabla "alumnos" debemos implementar el siguiente comando SQL:</p>
<pre>
  select count(*) as cantidad from alumnos
</pre>
<p>Implementamos una página que muestra este resultado:</p>

<pre class="recuadroborde">
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Problema&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
$conexion=mysqli_connect("localhost","root","","base1") or
    die("Problemas con la conexión");

$registros=mysqli_query($conexion,"select count(*) as cantidad from alumnos") or
  die("Problemas en el select:".mysqli_error($conexion));
$reg=mysqli_fetch_array($registros);
echo "La cantidad de alumnos inscriptos son :".$reg['cantidad'];
?&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
<p>En la sentencia select en vez de indicar los campos de la tabla, colocamos la llamada a la función count pasando como parámetro un asterisco y creando un alias para su posterior recuperación e impresión del dato:</p>
<pre>
$registros=mysqli_query($conexion,"select count(*) as cantidad from alumnos") or
  die("Problemas en el select:".mysqli_error($conexion));
</pre>
<p>El select no tiene cláusula where ya que debemos contar todos los alumnos y no los de algún curso en particular.</p>
<p>La llamada a la función mysqli_fetch_array se hace sin estructura condicional o repetitiva ya que sabemos que nos retornará un único registro (en realidad, un registro que tiene una sola columna llamada cantidad, en caso de estar vacía la tabla alumnos, se almacena cero en el alias cantidad):</p>
<pre>
$reg=mysqli_fetch_array($registros);
</pre>

<br>
<br>

<h2>Problema resuelto.</h2>
<p>Copiar el contenido de este cuadro de texto al NotePad++ y grabarlo en la carpeta c:\wamp\www con un nombre con extensión php (si hay varios cuadros
de texto grabar cada uno en un archivo distinto).<br>
  luego abrir el navegador (Chrome, FireFox, IExplorer etc.) y en la barra de direcciones tipear: http://localhost/pagina1.php (o el nombre del
archivo que le dió)  </p>
<form name="formulario" action="#" target="ventanaForm" 
 onsubmit=  "abrirVentana()"  method="post" >
    pagina1.php<br><textarea class="programafuente" name="programa" rows=15 cols=110 wrap="off" readonly>
<html>
<head>
<title>Problema</title>
</head>
<body>
<?php
$conexion=mysqli_connect("localhost","root","","base1") or
    die("Problemas con la conexión");

$registros=mysqli_query($conexion,"select count(*) as cantidad from alumnos",$conexion) or
  die("Problemas en el select:".mysqli_error());
$reg=mysqli_fetch_array($registros);
echo "La cantidad de alumnos inscriptos son :".$reg['cantidad'];
?>
</body>

<!-- Mirrored from www.phpya.com.ar/temarios/descripcion.php?punto=28&cod=49&inicio=20 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 15 Sep 2015 15:08:56 GMT -->
</html>
</textarea>
    <br>
	 <a href="http://www.scratchya.com.ar/problemas/phpya/resu/49/pagina1.php" style="font-style:Arial;font-size:2em;margin-right:15px;" target="_blank">Ejecutar ejemplo</a> 
<!--    <a href="http://localhost:8080/problemas/phpya/resu/49/pagina1.php" style="font-style:Arial;font-size:2em;margin-right:15px;" target="_blank">Ejecutar ejemplo</a>-->

    <br>
<table width="650px">
<tr>
<td align="left">	

</td>
</tr>
</table>

	
    
</form>






	

<h2>Problema propuesto.</h2>
<p>Confeccionar un programa que muestre por pantalla los nombres de todos los cursos y al final la cantidad total de cursos.</p><form name="formulario" action="#" target="ventanaForm" 
onsubmit="abrirVentana()" method="post" >

<a href="javascript:cambiar()" id="solucion">Solución</a>
<div id="recuadrooculto">
pagina1.php<br>
<textarea class="programafuente" name="programa" rows=15 cols=110 wrap="off" readonly>
<html>
<head>
<title>Problema</title>
</head>
<body>

<?php
$conexion=mysqli_connect("localhost","root","","base1") or
    die("Problemas con la conexión");

$registros=mysqli_query($conexion,"select nombrecurso from cursos") or
  die("Problemas en el select:".mysqli_error($conexion));

while ($reg=mysqli_fetch_array($registros))
{
  echo "Nombre del curso:".$reg['nombrecurso']."<br>";
  echo "<hr>";
}

$registros=mysqli_query($conexion,"select count(*) as cantidad from cursos") or
  die("Problemas en el select:".mysqli_error($conexion));

$reg=mysqli_fetch_array($registros);
echo "La cantidad de cursos son :".$reg['cantidad'];

mysqli_close($conexion);
?>

</body>
</html></textarea>
 <br>
<!-- <a href="http://localhost:8080/problemas/phpya/propu/49/pagina1.php" style="font-style:Arial;font-size:2em;margin-right:15px;" target="_blank">Ejecutar ejemplo</a>-->


  <a href="http://www.scratchya.com.ar/problemas/phpya/propu/49/pagina1.php" style="font-style:Arial;font-size:2em;margin-right:15px;" target="_blank">Ejecutar ejemplo</a> 
	<br>	

</div>

</form>



  

<br>
<table width="700px">
<tr>
<td align="left">	
<script type="text/javascript"><!--
google_ad_client = "ca-pub-4669394804436935";
/* fondo-izquierda-grande */
google_ad_slot = "2944336362";
google_ad_width = 336;
google_ad_height = 280;
//-->
</script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>
</td>
</tr>
</table>


<form name="form1" method="post" action="#">
  <div>
   <h2><a href="../index28fa.html?inicio=20">Retornar</a></h2>   
  </div>

  
</form>

<script src="../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-628756-4";
urchinTracker();
</script>

</body>

</html>
