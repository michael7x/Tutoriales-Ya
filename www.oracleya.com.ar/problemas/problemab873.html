

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<!-- Mirrored from www.oracleya.com.ar/problemas/problema.php?inicio=100&cod=279&punto=121 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 15 Sep 2015 15:10:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=ISO-8859-1" /><!-- /Added by HTTrack -->
<head>
<title>Ejercicios propuestos : Privilegios del sistema (conceder)(Oracle)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="keywords" content="oracle, programación, sql, tutorial">
<meta name="description" content="El objetivo de este tutorial 
es presentar los conceptos básicos de Oracle.">
<meta name="author" content="Diego Moisset">
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">

<link href="../css/estilos.css" rel="stylesheet" type="text/css">

<style>
html,body {
	background-color: #D3E9D0;
	font-family: Trebuchet MS, Verdana, Arial, sans-serif;
	font-size: 10pt;
	text-align:center;
}

h1 {
	font-size: 14pt;
	margin: 0%;
}
pre {
  text-align:left;
  font-family:verdana,sans-serif;
}
.recuadro {
background-color:#ffffcc;
  text-align:left;
  font-family:verdana;

  border-width:0;
  padding:5px;

  border: 1px dotted #ffaa00;
}
.recuadrooculto {
  background-color:#ffffcc;
  text-align:left;
  font-family:verdana;

  border-width:0;
  padding:5px;
  border: 1px dotted #ffaa00;
  display: none;
}

</style>

<script language="JavaScript">
function abrirVentana()
{
  alto=(screen.availHeight/2)+100;
  ancho=screen.availWidth-10;	
  window.open('', 'ventanaForm', 'top=0,left=0,width='+ancho+',height='+alto+',resizable=yes,scrollbars=yes,menubar=no,status=yes,toolbar=yes,location=yes');  	
}

function VentanaTeorico(codigo)
{
  alto=400;
  window.open('../temarios/descripcion2ade4.html?cod='+codigo+'&origen=problema', '', 'top=0,left=0,width=800,height='+alto+',resizable=yes,scrollbars=yes,menubar=no');  	
}

function cambiar(nro)
{
  var lista=document.getElementsByTagName('pre');
  for(f=0;f<lista.length;f++)
  {
   if (nro==1)
   {
     if (lista[f].id=='solu1')
       lista[f].style.display='block';
   }
   else
     if (nro==2)
     {
       if (lista[f].id=='solu2')
         lista[f].style.display='block';
     }
	   
  }
  if (nro==1)
    document.getElementById('solucion1').style.display='none';
  if (nro==2)
    document.getElementById('solucion2').style.display='none';
}

</script>

</head>

<body>
<div class="upperleft">
  <div class="upperright">
    <div class="lowerleft">
      <div class="lowerright">

<table width="98%">
<tr>
<td> 
<h1>121 - Privilegios del sistema (conceder)</h1></td>
<td align="right">
<!--<a href="http://www.sqlserverya.com.ar/publicidad/"><img border="0" style="margin:5px;padding-left:2px" src="../imagenes/publicidad.png"></a>	-->

</td>
</tr>
</table>

      </div>
    </div>
  </div>
</div>

<br>
<div class="upperleft">
  <div class="upperright">
    <div class="lowerleft">
      <div class="lowerright">
	  <table>
<tr>
<td align="left">
<script type="text/javascript"><!--
google_ad_client = "pub-4669394804436935";
/* 728x90, creado 1/09/10 - largo */
google_ad_slot = "4269167522";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>
</td>
</tr>
</table>		  

<b>Primer problema: </b><br><p>Una escuela necesita crear 3 usuarios diferentes en su base de datos. Uno denominado "director", otro "profesor" y otro "estudiante". Luego se les concederán diferentes permisos para retringir el acceso a los diferentes objetos. Conéctese como administrador (por ejemplo "system").</p>
<p>1- Cree un usuario denominado "director", con contraseña "escuela", asignándole 100M de espacio en "system" (100M). Antes elimínelo por si existe:</p>
<p>2- Intente iniciar una sesión como "director".<br>
No es posible, no hemos concedido el permiso correspondiente. Aparece un mensaje indicando que el usuario "director" no tiene permiso "create session" por lo tanto no puede conectarse.</p>
<p>3- Vea los permisos de "director"<br>
No tiene ningún permiso.</p>
<p>4- Conceda a "director" permiso para iniciar sesion y para crear tablas</p>
<p>5- Vea los permisos de "director"<br>
Tiene permiso "create session" y para crear tablas.</p>
<p>6- Inicie una sesión como "director".</p>
<p>7- Como "administrador", elimine los usuarios "profesor" y "alumno", por si existen</p>
<p>8- Cree un usuario denominado "profesor", con contraseña "maestro", asigne espacio en "system" (100M)</p>
<p>9- Cree un usuario denominado "estudiante", con contraseña "alumno" y tablespace "system" (no asigne "quota")</p>
<p>10- Consulte el diccionario de datos correspondiente para ver si existen los 3 usuarios creados</p>
<p>11- Conceda a "profesor" y a "estudiante" permiso para conectarse</p>
<p>12- Conceda a "estudiante" permiso para crear tablas</p>
<p>13- Consulte el diccionario de datos "sys_privs" para ver los permisos de los 3 usuarios creados<br>
"director" y "estudiante" tienen permisos para conectarse y para crear tablas, "profesor" tiene permiso para conectarse.</p>
<p>14- Retome su sesión como "director" y cree una tabla:</p>
<pre>
 create table prueba(
  nombre varchar2(30),
  apellido varchar2(30)
 );
</pre>
<p>Podemos hacerlo poque "director" tiene el permiso necesario y espacio en "system".</p>
<p>15- Inicie una sesión como "profesor" e intente crear una tabla:</p>
<pre>
 create table prueba(
  nombre varchar2(30),
  apellido varchar2(30)
 );
</pre>
<p>Mensaje de error "privilegios insuficientes". Esto sucede porque "profesor" NO tiene permiso para crear tablas.</p>
<p>16- Consulte los permisos de "profesor"<br>
No tiene permiso para crear tablas, únicamente para crear sesión.</p>
<p>17- Cambie a la conexión de administrador y conceda a "profesor" permiso para crear tablas</p>
<p>18- Cambie a la sesión de "profesor" y cree una tabla<br>
Ahora si podemos hacerlo, "profesor" tiene permiso "create table".</p>
<p>19- Consulte nuevamente los permisos de "profesor"<br>
Tiene permiso para crear tablas y para crear sesión.</p>
<p>20- Inicie una sesión como "estudiante" e intente crear una tabla:</p>
<pre>
 create table prueba(
  nombre varchar2(30),
  apellido varchar2(30)
 );
</pre>
<p>Mensaje de error "no existen privilegios en tablespace SYSTEM". Esto sucede porque "estudiante", si bien tiene permiso para crear tablas, no tiene asignado espacio (recuerde que al crearlo no especificamos "quota", por lo tanto, por defecto es cero).</p>
<p>21- Vuelva a la conexión de "administrador" y consulte todas las tablas denominadas "PRUEBA"<br>
Note que hay una tabla propiedad de "director" y otra que pertenece a "profesor".</p>
<a href="javascript:cambiar(1)" id="solucion1">Ver solución</a>
<br><br>
<pre id="solu1" class="recuadrooculto">
 drop user director cascade;

 create user director identified by escuela
 default tablespace system
 quota 100M on system;

 select *from dba_sys_privs where grantee='DIRECTOR';

 grant create session, create table
  to director;

 select *from dba_sys_privs where grantee='DIRECTOR';

 drop user profesor cascade;
 drop user alumno cascade;

 create user profesor identified by maestro
 default tablespace system
 quota 100M on system;

 create user estudiante identified by alumno
 default tablespace system;

 select username, password, default_tablespace, created from dba_users;

 grant create session
  to profesor, estudiante;

 grant create table
  to estudiante;

 select *from dba_sys_privs where grantee='DIRECTOR'
 or grantee='PROFESOR'
 or grantee='ESTUDIANTE';

 create table prueba(
  nombre varchar2(30),
  apellido varchar2(30)
 );

 create table prueba(
  nombre varchar2(30),
  apellido varchar2(30)
 );

 select *from user_sys_privs;

 grant create table
  to profesor;

 create table prueba(
  nombre varchar2(30),
  apellido varchar2(30)
 );

 select *from user_sys_privs;

 create table prueba(
  nombre varchar2(30),
  apellido varchar2(30)
 );

 select *from dba_objects where object_name='PRUEBA';
</pre>
        <p>&nbsp;</p>
  
<table width="700px">
<tr>
<td align="left">	

<script type="text/javascript"><!--
google_ad_client = "ca-pub-4669394804436935";
/* fondo-izquierda-grande */
google_ad_slot = "2944336362";
google_ad_width = 336;
google_ad_height = 280;
//-->
</script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>

<script type="text/javascript"><!--
google_ad_client = "ca-pub-4669394804436935";
/* fondo-derecha-grande */
google_ad_slot = "7374535966";
google_ad_width = 336;
google_ad_height = 280;
//-->
</script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>

</td>
</tr>
</table>
	
	


		
<br>
   <h2><a href="../indexf6ce.html?inicio=100">Retornar</a></h2>   


      </div>
    </div>
  </div>
</div>



</body>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-628756-18");
pageTracker._trackPageview();
} catch(err) {}</script>

<!-- Mirrored from www.oracleya.com.ar/problemas/problema.php?inicio=100&cod=279&punto=121 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 15 Sep 2015 15:10:38 GMT -->
</html>
