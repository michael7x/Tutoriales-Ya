

<html>


<!-- Mirrored from www.mysqlya.com.ar/temarios/descripcion.php?inicio=63&cod=87&punto=72 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 15 Sep 2015 15:10:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=ISO-8859-1" /><!-- /Added by HTTrack -->
<head>
<title>Temario:Variables de usuario.</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="../css/estilos.css" rel="stylesheet" type="text/css">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<style>
html,body {
	background-color: #D3E9D0;
	font-family: Trebuchet MS, Verdana, Arial, sans-serif;
	font-size: 10pt;
	text-align:center;
}

h1 {
	font-size: 14pt;
	margin: 0%;
}


</style>
</head>

<body>

<div class="upperleft">
  <div class="upperright">
    <div class="lowerleft">
      <div class="lowerright">

<table width="98%">
<tr>
<td> 
<h1>72 - Variables de usuario.</h1></td>
<td align="right">
<!--<a href="http://www.mysqlya.com.ar/publicidad/"><img border="0" style="margin:5px;padding-left:2px" src="../imagenes/publicidad.png"></a>	-->
</td>
</tr>
</table>

      </div>
    </div>
  </div>
</div>
<br>


<div class="upperleft">
  <div class="upperright">
    <div class="lowerleft">
      <div class="lowerright">

<p>

<div style="display:block;float:left;margin: 5px;"> 
 
<script async src="../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
<!-- propuesto-javaya -->
<ins class="adsbygoogle"
     style="display:inline-block;width:336px;height:280px"
     data-ad-client="ca-pub-4669394804436935"
     data-ad-slot="1400020364"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
 
</div> 		  

<p>Cuando buscamos un valor con las funciones de agrupamiento, por ejemplo "max()", la consulta nos devuelve el máximo valor de un campo de una tabla, pero no nos muestra los valores de otros campos del mismo registro. Por ejemplo, queremos saber todos los datos del libro con mayor precio de la tabla "libros" de una librería, tipeamos:</p>
<pre>
 select max(precio) from libros;
</pre>
<p>Para obtener todos los datos del libro podemos emplear una variable para almacenar el precio más alto:</p>
<pre>
 select @mayorprecio:=max(precio) from libros;
</pre>
<p>y luego mostrar todos los datos de dicho libro empleando la variable anterior:</p>
<pre>
 select * from libros
  where precio=@mayorprecio;
</pre>
<p>Es decir, guardamos en la variable el precio más alto y luego, en otra sentencia, mostramos los datos de todos los libros cuyo precio es igual al valor de la variable.</p> 

<p>Las variables nos permiten almacenar un valor y recuperarlo más adelante, de este modo se pueden usar valores en otras sentencias.</p>
<p>Las variables de usuario son específicas de cada conexión, es decir, una variable definida por un cliente no puede ser vista ni usada por otros clientes y son liberadas automáticamente al abandonar la conexión.</p>
<p>Las variables de usuario comienzan con "@" (arroba) seguido del nombre (sin espacios), dicho nombre puede contener cualquier caracter.</p>

<p>Para almacenar un valor en una variable se coloca ":=" (operador de asignación) entre la variable y el valor a asignar.</p>

<p>En el ejemplo, mostramos todos los datos del libro com precio más alto, pero, si además, necesitamos el nombre de la editorial podemos emplear un "join":</p>
<pre>
 select l.titulo,l.autor,e.nombre
  from libros as l
  join editoriales as e
  on l.codigoeditorial=e.codigo
  where l.precio = @mayorprecio;
</pre>
<p>La utilidad de las variables consiste en que almacenan valores para utilizarlos en otras consultas.</p>
<p>Por ejemplo, queremos ver todos los libros de la editorial que tenga el libro más caro. Debemos buscar el precio más alto y almacenarlo en una variable, luego buscar el nombre de la editorial del libro con el precio igual al valor de la variable y guardarlo en otra variable, finalmente buscar todos los libros de esa editorial:</p>
<pre>
 select @mayorprecio:=max(precio) from libros;

 select @editorial:=e.nombre
  from libros as l
  join editoriales as e
  on l.codigoeditorial=e.codigo
  where precio=@mayorprecio;

 select l.titulo,l.autor,e.nombre
  from libros as l
  join editoriales as e
  on l.codigoeditorial=e.codigo
  where e.nombre=@editorial;
</pre></p>

<table width="700px">
<tr>
<td align="left">	

<script type="text/javascript"><!--
google_ad_client = "ca-pub-4669394804436935";
/* fondo-izquierda-grande */
google_ad_slot = "2944336362";
google_ad_width = 336;
google_ad_height = 280;
//-->
</script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>

<script type="text/javascript"><!--
google_ad_client = "ca-pub-4669394804436935";
/* fondo-derecha-grande */
google_ad_slot = "7374535966";
google_ad_width = 336;
google_ad_height = 280;
//-->
</script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>

</td>
</tr>
</table>

   <h2><a href="../indexda3e.html?inicio=63">Retornar</a></h2>   


      </div>
    </div>
  </div>
</div>

<script src="../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-628756-5";
urchinTracker();
</script>


</body>


<!-- Mirrored from www.mysqlya.com.ar/temarios/descripcion.php?inicio=63&cod=87&punto=72 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 15 Sep 2015 15:10:29 GMT -->
</html>
